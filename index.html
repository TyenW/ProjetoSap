<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <title>ProjetoSap</title>
  <link rel="stylesheet" href="assets/css/emular.css" />
  <script src="assets/js/oqesap.js" defer></script>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet" />
</head>
<body>

  <!-- Cabeçalho -->
  <header class="header">
    <div class="logo-container">
      <img src="assets/img/logo.png" alt="Logo ProjetoSap" class="logo" />
    </div>
    <nav>
      <ul class="nav-list">
        <li><button class="li-btn" type="button">Home</button></li>
        <li><button class="li-btn" type="button" onclick="location.href='oqueesap.html'">O que é SAP</button></li>
        <li><button class="li-btn" type="button" onclick="location.href='#emulacao'">Emulação</button></li>
      </ul>
    </nav>
  </header>

  <!-- Botão alternar lógica -->
  <button id="toggleLogic" class="btn-wide">Alternar Lógica</button>

  <div class="logic-layout">

    <!-- Memória RAM -->
    <div class="memoryran">
      <div class="ram-grid">
        <label for="memory" class="ram-label">Memória RAM</label>
        <!-- Campos de entrada de instruções -->
        <input class="ran" type="text" placeholder="01" id="order1" maxlength="2" autocomplete="off" />
        <input class="ran" type="text" placeholder="02" id="order2" maxlength="2" autocomplete="off" />
        <input class="ran" type="text" placeholder="03" id="order3" maxlength="2" autocomplete="off" />
        <input class="ran" type="text" placeholder="04" id="order4" maxlength="2" autocomplete="off" />
        <input class="ran" type="text" placeholder="05" id="order5" maxlength="2" autocomplete="off" />
        <input class="ran" type="text" placeholder="06" id="order6" maxlength="2" autocomplete="off" />
        <input class="ran" type="text" placeholder="07" id="order7" maxlength="2" autocomplete="off" />
        <input class="ran" type="text" placeholder="08" id="order8" maxlength="2" autocomplete="off" />
        <input class="ran" type="text" placeholder="09" id="order9" maxlength="2" autocomplete="off" />
        <input class="ran" type="text" placeholder="10" id="order10" maxlength="2" autocomplete="off" />
        <input class="ran" type="text" placeholder="11" id="order11" maxlength="2" autocomplete="off" />
        <input class="ran" type="text" placeholder="12" id="order12" maxlength="2" autocomplete="off" />
        <input class="ran" type="text" placeholder="13" id="order13" maxlength="2" autocomplete="off" />
        <input class="ran" type="text" placeholder="14" id="order14" maxlength="2" autocomplete="off" />
        <input class="ran" type="text" placeholder="15" id="order15" maxlength="2" autocomplete="off" />
        <input class="ran" type="text" placeholder="16" id="order16" maxlength="2" autocomplete="off" />

        <div class="ram-btns">
          <button id="passo" class="btn-wide">Passo</button>
          <button id="emular" class="btn-wide">Emular</button>
          <button id="passo-atras" class="btn-wide">Passo para Trás</button>
          <button id="resetar" class="btn-wide">Resetar</button>
          <input type="file" id="csvInput" accept=".csv" style="margin-top:8px" />
        </div>
      </div>
    </div>

    <!-- Arquitetura SAP-1 -->
    <section class="sap1-container" id="emulacao">

      <!-- Blocos da esquerda -->
      <div class="sap1-block block-pc" id="pc">
        Contador de Programa (PC)
        <div class="arrow-pc-to-bus"></div>
      </div>

      <div class="sap1-block block-mar" id="entrada-rem">
        Entrada / REM
        <div class="arrow-down"></div>
        <div class="arrow-down second-arrow-down"></div>
        <div class="arrow-mar-to-bus"></div>
        <div class="arrow-from-bus"></div>
      </div>

      <div class="sap1-block block-ram" id="ram">
        RAM 16x8
        <div class="arrow-ram-to-bus"></div>
      </div>

      <div class="sap1-block block-ir" id="ri">
        Registrador de Instruções (RI)
        <div class="arrow-down-to-controller"></div>
        <div class="arrow-ir-to-bus"></div>
        <div class="arrow-from-bus"></div>
      </div>

      <div class="sap1-block block-controller" id="controlador">
        Controlador / Sequencializador
        <div class="arrow-down-from-controller"></div>
        <div class="arrow-controller-to-bus"></div>
      </div>

      <!-- Barramento central -->
      <div class="w-bus">
        <div class="bus-line"></div>
        <div class="bus-text">Barramento W</div>
      </div>

      <!-- Blocos da direita -->
      <div class="sap1-block block-acc" id="acc">
        Acumulador (ACC)
        <div class="arrow-down-to-alu"></div>
        <div class="arrow-bus-to-acc"></div>
        <div class="arrow-from-bus second-arrow"></div>
      </div>

      <div class="sap1-block block-alu" id="alu">
        Somador / Subtrator (ALU)
        <div class="arrow-bus-to-alu"></div>
        <div class="arrow-from-bus"></div>
      </div>

      <div class="sap1-block block-regb" id="regb">
        Registrador B
        <div class="arrow-bus-to-regb"></div>
        <div class="arrow-from-bus"></div>
      </div>

      <div class="sap1-block block-out" id="saida">
        Registrador de Saída
        <div class="arrow-down-to-display"></div>
        <div class="arrow-bus-to-out"></div>
        <div class="arrow-from-bus"></div>
      </div>

      <div class="sap1-block block-display" id="visual">
        Indicador Visual Binário
        <div class="arrow-bus-to-display"></div>
        <div class="arrow-from-bus"></div>
      </div>

      <!-- Conexões extras -->
      <div class="connection conn-alu-acc"></div>
      <div class="connection conn-alu-regb"></div>
      <div class="connection conn-ir-controller"></div>
      <div class="connection conn-out-display"></div>
      <div class="controller-bus-connection"></div>
    </section>

    <!-- Código de Máquina -->
    <div class="other-logic-content">
      <label class="other-logic-label">Código de Máquina</label>
      <textarea
        id="codigoMaquina"
        rows="8"
        cols="18"
        placeholder="LDA A0&#10;INC&#10;MUL A1&#10;SUB A2&#10;OUT&#10;HLT"
      ></textarea>
      <button id="converterMaquina" class="btn-wide">Converter para Hex</button>
    </div>
  </div>

  <!-- Painel de Status -->
  <div class="status-panel">
    <h3>Status</h3>
    <div id="status-content">
      <p>PC: <span id="status-pc">0</span></p>
      <p>ACC: <span id="status-acc">0</span></p>
      <p>Instrução: <span id="status-instr">00</span></p>
      <p>Saída: <span id="status-saida"></span></p>
    </div>
  </div>

  <!-- Saída -->
  <label id="saida-label" class="saida-label"></label>
  <button id="saida" class="saida-btn">Mostrar Saída</button>

  <!-- Console estilo Mario -->
  <div id="console-log" class="mario-console" style="display: none;"></div>

  <!-- Scripts -->
  <script src="assets/js/script.js" defer></script>
</body>
</html>
